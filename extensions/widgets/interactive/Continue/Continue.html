<!DOCTYPE html>
<html>
  <head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
      var GLOBALS = {};
      GLOBALS.buttonText = JSON.parse('{{buttonText|js_string}}');
    </script>
  </head>

  <body>
    <button id="submitButton" type="button" onclick="submitAnswer()"></button>

    <script>
      document.getElementById('submitButton').textContent = GLOBALS.buttonText;

      window.parent.postMessage(
        JSON.stringify({'widgetHeight': document.documentElement.scrollHeight}),
        window.location.protocol + '//' + window.location.host);

      var submitAnswer = function() {
  	    if (parent.location.pathname.indexOf('/explore') === 0) {
          window.parent.postMessage(
            JSON.stringify({'submit': ''}),
            window.location.protocol + '//' + window.location.host
          );
        }
      };
    </script>
  </body>
</html>
