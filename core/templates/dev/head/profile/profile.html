{% extends "base.html" %}

{% block subtitle %}
  Profile
{% endblock subtitle %}

{% block content %}
  <div ng-controller="Profile">
    <div class="oppia-content">
      <div class="oppia-gallery-frame">
        <div>
          <strong>Email address</strong>: {{user_email}}
          <br><br>
          <strong>Username</strong>:
          {% if username %}
            {{username}}
          {% else %}
            <em>Not yet selected</em>
          {% endif %}
        </div>

        <hr>

        <h4>Explorations (private)</h4>
          <div ng-if="explorationStats.owned > 0"><a href="#owned">
            I manage <[explorationStats.owned]>
            (<[explorationStats.owned_private]>) explorations.
          </a></div>
        <div ng-if="explorationStats.editable > 0"><a href="#editable">
            I collaborate on <[explorationStats.editable]>
            (<[explorationStats.editable_private]>) explorations.
        </a></div>
        <div ng-if="explorationStats.viewable > 0"><a href="#viewable">
            I playtest <[explorationStats.viewable]>
            (<[explorationStats.viewable_private]>) explorations.
        </a></div>

        <div ng-show="!isEmpty(ownedExplorations)">
          <ul>
            <li ng-repeat="(expId, expData) in ownedExplorations">
              <span ng-if="expData.rights.status == 'private'">
                (Private)
              </span>
              <a ng-href="/create/<[expId]>"><[expData.title]></a>
            </li>
          </ul>
        </div>

        <div ng-show="!isEmpty(editableExplorations)">
          <h5>Explorations I collaborate on</h5>
          <ul>
            <li ng-repeat="(expId, expData) in editableExplorations">
              <span ng-if="expData.rights.status == 'private'">
                (Private)
              </span>
              <a ng-href="/create/<[expId]>"><[expData.title]></a>
            </li>
          </ul>
        </div>

        <div ng-show="!isEmpty(viewableExplorations)">
          <h5>Explorations I can playtest</h5>
          <ul>
            <li ng-repeat="(expId, expData) in viewableExplorations">
              <a ng-href="/explore/<[expId]>"><[expData.title]></a>
            </li>
          </ul>
        </div>

        <div ng-show="isEmpty(ownedExplorations) && isEmpty(editableExplorations) && isEmpty(viewableExplorations)">
          <em>No explorations here yet!</em>
        </div>

        <div ng-show="!isEmpty(feedback)">
          <h5>Feedback I've submitted</h5>
          <table>
            <tr ng-repeat="f in feedback">
              <td>
                <a ng-href="/explore/<[f.exp_id]>"><[f.exp_title]></a>
              </td>
              <td style="width: 20px;">
              </td>
              <td>
                <div class="oppia-feedback-status label">
                  <[f.status]>
                </div>
              </td>
              <td style="width: 20px;">
              </td>
              <td>
                <div class="oppia-feedback-content">
                  <[f.content]>
                </div>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block footer_js %}
  {{ super() }}
  <script>
    {{ include_js_file('/profile/Profile.js') }}
  </script>
{% endblock footer_js %}
