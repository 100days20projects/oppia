{% extends "base.html" %}

{% block subtitle %}
  Main Page
{% endblock subtitle %}

{% block content %}
  <div class="oppia-content">
    <oppia oppia-id="0" width="100%" id="demoExploration"></oppia>

    <hr>
    <div class="row-fluid" id="buttons" style="display: none;">
      <div class="span6">
        <center class="oppia-btn-container">
          <a class="btn oppia-btn" href="/gallery">Browse more explorations</a>
        </center>
      </div>
      <div class="span6">
        <center class="oppia-btn-container">
          <a class="btn oppia-btn" href="/learn_random">Play a new exploration</a>
        </center>
      </div>
    </div>

  </div>
{% endblock %}

{% block footer_js %}
  {{ super() }}
  <script src="/scripts/oppia-player-0.0.0.js"></script>
  <script>
    window.OPPIA_PLAYER.onHeightChange = function(newHeight) {
      console.log('onHeightChange event triggered.');

      var iframe = document.getElementById('demoExploration');
      iframe.height = parseInt(newHeight, 10) + 'px';
    
      setTimeout(function () {
        $('#buttons').show();
      }, 1000);
    };
  </script>
{% endblock footer_js %}
