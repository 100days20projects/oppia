{% macro edit_parameter_form() -%}
  <form novalidate class="oppia-form" name="newParameterForm" ng-submit="commitParamChange(activeItem)">
    Change
    <select2-dropdown item="tmpParamChange.name" choices="paramNameChoices" placeholder="Choose a parameter name" new-choice-regex="^[A-Za-z]+$" width="100px">
    </select2-dropdown>

    <select ng-model="tmpParamChange.generator_id"
            ng-options="key as PREAMBLE_TEXT[key] for (key, value) in ALLOWED_KEYS"
            style="width: 220px;" required>
    </select>

    <value-generator-editor generator-id="tmpParamChange.generator_id"
                            customization-args="tmpParamChange.customization_args"
                            obj-type="getObjTypeForParam(tmpParamChange.select2Name.text) || 'UnicodeString'">
    </value-generator-editor>
    <br>

    <input type="submit" value="Close editor">
  </form>
{%- endmacro %}


<div class="container-fluid">
  <div ng-repeat="param in paramChanges">
    <div class="row-fluid">
      <div class="span1">
        <[$index + 1]>.
      </div>
      <div class="span9">
        <span ng-if="activeItem !== $index">
          Change <b><[param.name]></b> <[HUMAN_READABLE_ARGS_RENDERERS[param.generator_id](param.customization_args)]>
        </span>

        <div ng-if="activeItem === $index">
          {{ edit_parameter_form() }}
        </div>
      </div>

      <div class="span2">
        <button type="button" ng-disabled="activeItem !== -1" ng-click="startEditParamChange($index)">
          Edit
        </button>
        <button type="button" ng-disabled="activeItem !== -1" ng-click="deleteParamChange($index)">
          &times;
        </button>
      </div>
    </div>
  </div>

  <div class="row-fluid">
    <div class="span10"></div>

    <div class="span2">
      <button type="button" ng-disabled="activeItem !== -1" ng-click="startAddParamChange()">
        Add new
      </a>
    </div>
  </div>
</div>
