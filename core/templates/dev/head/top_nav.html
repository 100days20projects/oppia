<nav class="navbar navbar-default oppia-navbar oppia-prevent-selection" role="navigation">
  <div class="navbar-container">
    <div>
      <div class="navbar-header" ng-if="!screenIsLarge">
        <a ng-click="openSidebar()" class="navbar-brand oppia-navbar-menu">
          <img src="/images/menu.png">
        </a>
        <a class="oppia-navbar-brand-name" href="/gallery">
          <img src="/images/logo/288x288_oppia_white.png" class="oppia-logo">
        </a>
      </div>

      {% if nav_mode not in ['explore', 'create'] %}
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav oppia-navbar-nav">
            {% if SHOW_FORUM_PAGE %}
              <li {% if nav_mode == 'forum' %}class="active"{% endif %}>
                <a href="/forum">Forum</a>
              </li>
            {% endif %}
            <li {% if nav_mode == 'about' %}class="active"{% endif %}>
              <a href="/about">About</a>
            </li>
          </ul>

          <ul class="nav navbar-nav oppia-navbar-nav navbar-right">
            <li class="dropdown">
              {% if user_email %}
                <a class="dropdown-toggle" data-toggle="dropdown">
                  {% if username %}
                    {{username}}
                  {% else %}
                    {{user_email}}
                  {% endif %}

                  {% if is_admin %}
                    (Admin)
                  {% elif is_moderator %}
                    (Moderator)
                  {% endif %}
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="/dashboard">Dashboard</a>
                  </li>
                  {% if is_moderator %}
                    <li>
                      <a href="/moderator" target="_blank">
                        Moderator Page
                      </a>
                    </li>
                  {% endif %}

                  {% if is_super_admin %}
                    <li>
                      <a href="/admin" target="_blank">
                        Admin Page
                      </a>
                    </li>
                  {% endif %}

                  <li>
                    <a href="{{logout_url}}">Logout</a>
                  </li>
                </ul>
              {% else %}
                <a href="{{login_url}}">
                  Sign in
                </a>
              {% endif %}
            </li>
          </ul>
        </div>
      {% elif nav_mode == 'create' %}
        <!-- TODO(sll): Move this somewhere that is more directly related to the editor page. -->
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav oppia-navbar-nav navbar-right">
            <li class="dropdown" ng-controller="EditorHelpTab">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <span class="glyphicon glyphicon-question-sign"></span>
              </a>
              <ul class="dropdown-menu">
                <li class="dropdown">
                  <a href="#" ng-click="openEditorTutorial()">Tutorial</a>
                </li>
                <li class="dropdown">
                  <a href="https://code.google.com/p/oppia/wiki/PlanningYourExploration" target="_blank">
                    Planning Your Exploration
                  </a>
                </li>
                <li class="dropdown">
                  <a href="https://code.google.com/p/oppia/wiki/DesignTips" target="_blank">
                    Exploration Design Tips
                  </a>
                </li>
              </ul>
              <div ng-if="postTutorialHelpPopoverIsShown" class="popover left oppia-post-tutorial-popover">
                <div class="arrow"></div>
                <div class="popover-content">If you need help in the future, click here!</div>
              </div>
            </li>
          </ul>
        </div>
      {% endif %}
    </div>
  </div>
</nav>
