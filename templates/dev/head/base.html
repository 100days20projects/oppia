<!DOCTYPE html>
<html ng-app="oppia">
  <head>
    <meta charset=utf-8>
    <title>Oppia</title>

    <link rel="stylesheet" href="/third_party/angular-ui/build/angular-ui.css">
    <link rel="stylesheet" href="/third_party/bootstrap/css/bootstrap.css">
    <!-- The next line should be added before bootstrap-responsive.css: see
        http://twitter.github.com/bootstrap/components.html#navbar -->
    <style type="text/css" media="screen">{{css}}</style>
    <link rel="stylesheet" href="/third_party/bootstrap/css/bootstrap-responsive.css">

    <script src="/third_party/jquery/jquery.min.js"></script>
    <script src="/third_party/jqueryui/jquery-ui.min.js"></script>

    <script src="/third_party/bootstrap/js/bootstrap.js"></script>
    <script src="/third_party/angularjs/angular.min.js"></script>
    <script src="/third_party/angularjs/angular-sanitize.min.js"></script>
    <script src="/third_party/angular-ui/build/angular-ui.js"></script>

    <script src="/third_party/d3js/d3.min.js"></script>

    <script src="/third_party/wysihtml5/parser_rules/advanced.js"></script>
    <script src="/third_party/wysihtml5/dist/wysihtml5-0.3.0.min.js"></script>
  </head>

  <body ng-controller="Base">
    <div class="oppia-holder">
      <div class="oppia-main-body">
        {% if not iframed %}
          <!-- nav bar -->
          <div class="navbar navbar-static-top oppia-navbar">
            <div class="navbar-inner">
              <div class="container">
                <a class="brand" href="/">Oppia</a>
                <ul class="nav">
                  <li {% if mode == 'gallery' %} class="active" {% endif %}>
                    <a href="/gallery">Gallery</a>
                  </li>
                  {% if mode == 'reader' %}
                    <li class="active">
                      <a href="">Learn</a>
                    </li>
                  {% endif %}
                  {% if mode == 'editor' %}
                    <li class="active">
                      <a href="">Create</a>
                    </li>
                  {% endif %}
                </ul>
                <ul class="nav pull-right">
                  {% if user %}
                    <li>
                      <span class="navbar-text">{{user}}</span>
                    </li>
                    <li>
                      <a href="{{logout_url}}">Logout</a>
                    </li>
                  {% else %}
                    <li>
                      <a href="{{login_url}}">Login</a>
                    </li>
                  {% endif %}
                </ul>
              </div>
            </div>
          </div>
        {% endif %}

        <div ng-cloak>
          <div ng-repeat="warning in warningsData.warnings">
            <p class="alert alert-block">
              <button type="button" class="close" ng-click="warningsData.deleteWarning($index)">&times;</button>
              <strong>Warning!</strong>
              <[warning]>
            </p>
          </div>
          {% block content %}{% endblock %}
        </div>
      </div>

      <br><br>

      {% if not iframed %}
        <div class="navbar oppia-footer">
          <ul class="nav">
            <li>
             <a href="/about">About Oppia</a>
            </li>
            <li>
              <a href="/terms">Terms</a>
            </li>
          </ul>
        </div>
      {% endif %}
    </div>

    <script type="text/javascript">{{js}}</script>
  </body>
</html>
