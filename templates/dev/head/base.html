<!DOCTYPE html>
<html ng-app="oppia">
  <head>
    <meta charset=utf-8>
    <title>Oppia</title>

    <link rel="stylesheet" href="/third_party/angular-ui/build/angular-ui.css">
    <link rel="stylesheet" href="/third_party/bootstrap/css/bootstrap.css">
    <!-- The next line should be added before bootstrap-responsive.css: see
        http://twitter.github.com/bootstrap/components.html#navbar -->
    <style type="text/css" media="screen">{{css}}</style>
    <link rel="stylesheet" href="/third_party/bootstrap/css/bootstrap-responsive.css">

    <script src="/third_party/jquery/jquery.min.js"></script>
    <script src="/third_party/jqueryui/jquery-ui.min.js"></script>

    <script src="/third_party/bootstrap/js/bootstrap.js"></script>
    <script src="/third_party/angularjs/angular.min.js"></script>
    <script src="/third_party/angularjs/angular-sanitize.min.js"></script>
    <script src="/third_party/angular-ui/build/angular-ui.js"></script>

    <script src="/third_party/d3js/d3.min.js"></script>
    <!-- TODO(sll): Remove the following line once we fully switch to d3.js -->
    <script src="/third_party/jsplumb/jsPlumb.js"></script>
  </head>

  <body ng-controller="Base">
    {% if not iframed %}
      <!-- nav bar -->
      <div class="navbar navbar-static-top oppia-navbar">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="/">Oppia</a>
            <ul class="nav">
              <li {% if mode == 'reader' %} class="active" {% endif %}>
                <a href="/learn">Learn</a>
              </li>
              <li {% if mode == 'editor' %} class="active" {% endif %}>
                <a href="/create">Create</a>
              </li>
            </ul>
            <ul class="nav pull-right">
              {% if user %}
                <li>
                  <span class="navbar-text">{{user}}</span>
                </li>
                <li>
                  <a href="{{logout_url}}">Logout</a>
                </li>
              {% else %}
                <li>
                  <a href="{{login_url}}">Login</a>
                </li>
              {% endif %}
            </ul>
          </div>
        </div>
      </div>
    {% endif %}

    <div ng-cloak>
      <div ng-repeat="warning in warningsData.warnings">
        <p class="alert alert-block">
          <button type="button" class="close" ng-click="warningsData.deleteWarning($index)">&times;</button>
          <strong>Warning!</strong>
          <[warning]>
        </p>
      </div>
      {% block content %}{% endblock %}
    </div>

    <script type="text/javascript">{{js}}</script>
  </body>
</html>
