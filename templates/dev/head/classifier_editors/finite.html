<div class="classifier" ng-show="classifier == 'finite'" ng-controller="FiniteClassifierEditor">
  <div ng-repeat="action in states[stateId].dests" class="oppia-category-block">
    <a class="close" ng-click="deleteCategory($index)">&times;</a>

    <form name="finiteCategoryForm" class="form-inline" ng-submit="saveCategoryName($index, states[stateId].dests[$index].category)"
          ng-click="initializeNewActiveInput(classifier + '.' + $index + '.category')">
      <span class="oppia-editable-name">Answer:</span>
      <span ng-class="getCategoryClass(states[stateId]['dests'][$index].category)"
            ng-hide="currentActiveInput == classifier + '.' + $index + '.category'">
        <[states[stateId]['dests'][$index].category]>
      </span>
      <span ng-show="currentActiveInput == classifier + '.' + $index + '.category'">
        <input type="text" name="category" must-be-valid-string ng-model="states[stateId].dests[$index].category" autofocus>
        <input type="submit" value="Save">
      </span>
      <div class="alert" ng-show="finiteCategoryForm.category.$error.invalidChar">This field must be nonempty and contain only letters/numbers.</div>
    </form>

    <span class="oppia-editable-name"
          ng-hide="currentActiveInput == classifier + '.' + $index + '.dest'"
          ng-click="initializeNewActiveInput(classifier + '.' + $index + '.dest')">
      <[getDestDescription(states[stateId]['dests'][$index].dest)]>
    </span>
    <span ng-show="currentActiveInput == classifier + '.' + $index + '.dest'">
      <form ng-submit="saveDest($index, newFiniteDestData)">
        Destination:
        <input type="text" size="40" list="destinations" ng-model="newFiniteDestData" placeholder="Type name of state, or '[Q' for questions" autofocus required>
        <datalist id="destinations">
          <option ng-repeat="(id, properties) in states" value="<[properties.desc]>"></option>
          <option ng-repeat="(id, properties) in questions" value="[Question] <[properties.desc]>"></option>
          <option value="END"></option>
        </datalist>
        <button type="button" ng-click="saveDest($index, newFiniteDestData)">Save</button>
      </form>
    </span>

    <p ng-click="showEditorModal('text', $index)">
      <span class="oppia-editable-name">Feedback:</span>
      <span ng-hide="action.text">[Add feedback]</span>
      <span ng-show="action.text" ng-bind-html="action.text | truncate"></span>
    </p>
  </div>

  <div class="input-view-name">
    <form name="addCategoryForm" ng-submit="addCategory()">
      <input type="text" ng-model="newCategoryName" placeholder="Add Answer" autofocus required>
      <input type="submit" value="+" id="addCategorySubmit" class="add-button">
    </form>
  </div>
</div>
