{% extends "base.html" %}

{% block content %}
  <div ng-controller="ReaderMain">
    <form class="oppia-form-search pull-right">
      <div class="add-on">
        <input type="text" placeholder="Search" class="input-medium search-query">
        <i class="icon-search"></i>
      </div>
    </form>

    <div ng-repeat="warning in warnings" class="alert">
      <button type="button" class="close" data-dismiss="alert">Ã—</button>
      <strong>Warning!</strong>
        <[warning]>
    </div>

    <div class="oppia-content">
      <h2> Available Explorations</h2>
      <center>
        {% for category in categories %}
          <div class="oppia-class-category">
            <h4>{{category}}</h4>
            <hr>
            <ul class="thumbnails">
              <!-- placeholder for real data on explorations -->
              {% for exploration in categories[category].explorations %}
                <li class="span3">
                  <div class="thumbnail">
                    <img src="http://placehold.it/300x200" alt="">
                    <div>
                      <h5>{{exploration.metadata.title}}</h5>
                      <a href="learn/{{exploration.hash_id}}">Link</a> | 
                      <a ng-click="showModal('{{exploration.hash_id}}')">Embed</a>
                  </div>
                </li>
              {% endfor %}
            </ul>
          </div>
        {% endfor %}
      </center>
    </div>

    <div ui-modal class="fade" id="embedModal" ng-model="modalShown">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          &times;
        </button>
        <h3 id="embedModalLabel">Embed this exploration</h3>
      </div>

      <div class="modal-body">
        <p>
          You can embed this exploration in a webpage by copying and pasting
          the following code snippet into the webpage's HTML:
        </p>
        <code>
          &lt;iframe src="<[currentUrl]>/<[currentId]>?hideNavbar=true" width="100%" height="400px" frameborder="0"&gt;
          &lt;/iframe&gt;
        </code>
      </div>

      <div class="modal-footer">
        <a class="btn" data-dismiss="modal">Close</a>
      </div>
    </div>

  </div>
{% endblock %}
