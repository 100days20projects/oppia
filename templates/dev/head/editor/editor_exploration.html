{% extends "base.html" %}

{% block content %}
  <div ng-controller="EditorExploration" ng-cloak>
    <div class="container-fluid">
      <div class="oppia-content row-fluid">
        <div class="span3">
          <form ng-submit="saveQuestionName()">
            <h3 class="oppia-editable-name" ng-hide="currentActiveInput == 'questionName'" ng-click="initializeNewActiveInput('questionName')"> <[explorationDesc]> </h3>
            <span ng-show="currentActiveInput == 'questionName'">
              <input type="text" ng-model="explorationDesc" required>
              <input type="submit" value="Save">
            </span>
            <span class="oppia-loading" ng-show="saveQuestionNameLoading"></span>
          </form>

          <span ng-show="isPublic" class="label label-info">Published</span>
          <div ng-hide="isPublic">
            <button type="button" ng-click="makePublic()">
              Publish
            </button>
            (irreversible)
          </div>

          <br><br><br>

          <form ng-submit="addState(newStateDesc, false)">
            <input style="width: 80%" type="text" list="states" ng-model="newStateDesc" placeholder="Add State" required>
            <datalist id="states">
              <option ng-repeat="(id, properties) in states | orderBy:'properties.desc':true" value="<[properties.desc]>"></option>
            </datalist>
            <div class="oppia-loading" ng-show="addStateLoading"></div>
          </form>

          <div id="oppia-state-graph-container">
            <div id="oppia-state-graph-canvas">
            </div>
          </div>
        </div>

        <div class="span9">
          <form ng-submit="saveStateName()">
            <h3>
              <span class="oppia-editable-name" ng-hide="currentActiveInput == 'stateName'" ng-click="initializeNewActiveInput('stateName')"> <[stateName]> </span>
              <span ng-show="currentActiveInput == 'stateName'">
                <input type="text" ng-model="stateName">
                <input type="submit" value="Save">
              </span>
            </h3>
          </form>

          <div ng-view></div>

          <div ng-show="inputType != 'none' && getMode() == 'gui'">
            <div angular-html-bind="finiteCode"></div>
            <div angular-html-bind="numericCode"></div>
            <div angular-html-bind="setCode"></div>
            <div angular-html-bind="textCode"></div>
          </div>
        </div>

      </div>
    </div>
  </div>

{% endblock %}
