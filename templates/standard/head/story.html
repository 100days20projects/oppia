{% extends "base.html" %}

{% block content %}
  <div ng-controller="Reader" class="content-body">
    <div ng-repeat="warning in warnings">
      <p class="butterbar">
        <[warning]>
      </p>
    </div>

    <div class="content">
      <div class="left-nav" ng-show="chapterList">
        <br>
        <br>
        <h3>Contents</h3>
        <ul ng-repeat="chapter in chapterList">
          <li ng-show="chapter.groups.length > 0">
            <a ng-show="$index != currChapter" ng-click="switchChapter($index)">
              <[$index + 1]> - <[chapter.name]>
            </a>
            <span ng-show="$index == currChapter">
              <[$index + 1]> - <[chapter.name]>
            </span>
            <ul ng-show="$index == currChapter">
              <li ng-repeat="group in chapter.groups">
                <a ng-show="group.groupId != groupId" ng-click="getQuestionPage($parent.$index, group.groupId)">
                  <[group.name]>
                </a>
                <span ng-show="group.groupId == groupId" ng-click="getQuestionPage($parent.$index, group.groupId)">
                  <[group.name]>
                </span>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="right-col" ng-show="contentPanelIsActive">
        <div class="story-header">
          <a ng-show="currentPage > 1" ng-click="changePage(currentPage-1)" style="float:left">⇦</a>
          <a ng-show="currentPage < maxPage" ng-click="changePage(currentPage+1)" style="float:right">⇨</a>
          <h3 class="story-header-title">
            <span ng-hide="chapterList"> Page <[currentPage]> of <[maxPage]> </span>
            <span ng-show="chapterList && (currChapter + 1)"> <[currChapter + 1]> - <[chapterList[currChapter].name]> </span>
          </h3>
        </div>
        <div class="story">
          <div class="group-title">
            <[groupName]>
          </div>
          <div angular-html-bind="html"></div>
          <div angular-html-bind="inputTemplate"></div>
        </div>
      </div>
    </div>

  </div>
{% endblock %}
